
<!-- saved from url=(0019)http://mosmetod.ru/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script onerror="window.onPrepareCodeError()" charset="utf-8">/* html5 banner v 1.0.6 */
(function(URLs) {
	for (var i = 0; i < URLs.length && URLs[i]; i++) {
		if (!URLs[i].match(/adfox\.ru\/transparent\.gif$/)) {
			(function(url, img) {
				img.src = url;
			})(URLs[i], new Image());
		}
	}
})('http://banners.adfox.ru/transparent.gif'.split('|'));

(function() {
	var data = {
		reference: {
			value: 'https://www.mos.ru/news/item/38793073/',
			type: 'reference'
		},
		html5Creative: {
			value: decodeURIComponent('%3C%21DOCTYPE%20html%3E%20%3Chtml%20lang%3D%22en%22%3E%20%3C%21--%3C%21%5Bendif%5D--%3E%20%3Chead%3E%20%09%3Cmeta%20charset%3D%22utf-8%22%3E%20%09%3Cmeta%20http-equiv%3D%22X-UA-Compatible%22%20content%3D%22IE%3Dedge%22%3E%20%09%3Cmeta%20name%3D%22description%22%20content%3D%22%22%3E%20%09%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1%22%3E%09%20%09%3Cstyle%20type%3D%22text%2Fcss%22%3E%09%0D%0A%09%09%40font-face%20%7B%0D%0A%09%09%09font-family%3A%20%27MCWXXRegular%27%3B%0D%0A%09%09%09src%3A%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXRegular-25JULY.eot%27%29%3B%0D%0A%09%09%09src%3A%20local%28%27%3F%27%29%2C%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXRegular-25JULY.woff%27%29%20format%28%27woff%27%29%2C%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXRegular-25JULY.ttf%27%29%20format%28%27truetype%27%29%2C%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXRegular-25JULY.svg%27%29%20format%28%27svg%27%29%3B%0D%0A%09%09%09font-weight%3A%20normal%3B%0D%0A%09%09%09font-style%3A%20normal%3B%0D%0A%09%09%7D%0D%0A%09%09%40font-face%20%7B%0D%0A%09%09%09font-family%3A%20%27MCWXXBold%27%3B%0D%0A%09%09%09src%3A%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXBold-25JULY.eot%27%29%3B%0D%0A%09%09%09src%3A%20local%28%27%3F%27%29%2C%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXBold-25JULY.woff%27%29%20format%28%27woff%27%29%2C%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXBold-25JULY.ttf%27%29%20format%28%27truetype%27%29%2C%20url%28%27https%3A%2F%2Fbanners.adfox.ru%2F170823%2Fadfox%2F683050%2F2182970%2FMCWXXBold-25JULY.svg%27%29%20format%28%27svg%27%29%3B%0D%0A%09%09%09font-weight%3A%20normal%3B%0D%0A%09%09%09font-style%3A%20normal%3B%0D%0A%09%09%7D%0D%0A%09%09%2A%20%7B%0D%0A%09%09%09-webkit-box-sizing%3A%20border-box%3B%0D%0A%09%09%09box-sizing%3A%20border-box%3B%0D%0A%09%09%7D%0D%0A%09%09html%2C%20body%20%7B%20height%3A%20100%25%3B%20%7D%0D%0A%09%09body%20%7B%0D%0A%09%09%09margin%3A%200%3B%0D%0A%09%09%09padding%3A%201px%3B%0D%0A%09%09%7D%09%09%0D%0A%09%09.addfox-banner%20%7B%0D%0A%09%09%20%20%20%20position%3A%20relative%3B%0D%0A%09%09%09width%3A%20100%25%3B%09%09%09%0D%0A%09%09%09max-width%3A%20380px%3B%0D%0A%09%09%09min-width%3A%20220px%3B%0D%0A%09%09%09height%3A%20100%25%3B%0D%0A%09%09%09max-height%3A%20365px%3B%09%09%09%0D%0A%09%09%09text-align%3A%20left%3B%0D%0A%09%09%09border%3A%201px%20solid%20%23DDE3E8%3B%0D%0A%20%20%20%09%09%09background%3A%20%23FFF%3B%0D%0A%09%09%09font-family%3A%20MCWXXRegular%2C%20sans-serif%3B%0D%0A%09%09%09-webkit-transition%3A%20all%20.2s%20ease-in-out%3B%0D%0A%09%09%09-o-transition%3A%20all%20.2s%20ease-in-out%3B%0D%0A%09%09%09transition%3A%20all%20.2s%20ease-in-out%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner%3Ahover%20%7B%0D%0A%09%09%09border%3A%201px%20solid%20%239EA4AC%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-link%20%7B%0D%0A%09%09%09text-decoration%3A%20none%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__text-wrap%20%7B%0D%0A%09%09%09padding%3A%208px%2016px%2016px%3B%0D%0A%09%09%20%20%20%20word-break%3A%20break-word%3B%0D%0A%09%09%20%20%20%20overflow%3A%20hidden%3B%09%09%20%20%20%20%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__text-wrap-inner%20%7B%0D%0A%09%09%09display%3A%20-webkit-box%3B%0D%0A%09%09%09display%3A%20-webkit-flex%3B%0D%0A%09%09%09display%3A%20-ms-flexbox%3B%0D%0A%09%09%09display%3A%20flex%3B%0D%0A%09%09%20%20%20%20-webkit-flex-wrap%3A%20wrap%3B%0D%0A%09%09%20%20%20%20%20%20%20%20-ms-flex-wrap%3A%20wrap%3B%0D%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20flex-wrap%3A%20wrap%3B%0D%0A%09%09%20%20%20%20-webkit-align-content%3A%20space-between%3B%0D%0A%09%09%20%20%20%20%20%20%20%20-ms-flex-line-pack%3A%20justify%3B%0D%0A%09%09%20%20%20%20%20%20%20%20%20%20%20%20align-content%3A%20space-between%3B%0D%0A%09%09%20%20%20%20height%3A%20100%25%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__title%20%7B%0D%0A%09%09%09color%3A%20%23CB2419%3B%09%09%09%09%09%0D%0A%09%09%09font-size%3A%2016px%3B%0D%0A%09%09%09line-height%3A%2024px%3B%0D%0A%09%09%09font-family%3A%20MCWXXBold%2C%20sans-serif%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__text%20%7B%0D%0A%09%09%09color%3A%20%23333%3B%09%0D%0A%09%09%09font-size%3A%2016px%3B%0D%0A%09%09%09line-height%3A%2024px%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__note%20%7B%0D%0A%09%09%09position%3A%20absolute%3B%0D%0A%20%20%20%20%09%09bottom%3A%2016px%3B%0D%0A%20%20%20%20%09%09left%3A%2016px%3B%0D%0A%09%09%09color%3A%20%23B2B2B2%3B%0D%0A%09%09%09font-size%3A%2014px%3B%0D%0A%09%09%09line-height%3A%2016px%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__img-wrap%20%7B%0D%0A%09%09%09width%3A%20100%25%3B%0D%0A%09%09%09line-height%3A%200%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-banner__img%20%7B%0D%0A%09%09%09width%3A%20100%25%3B%0D%0A%09%09%09max-width%3A%20100%25%3B%09%09%09%0D%0A%09%09%7D%0D%0A%09%09.addfox-link%20%7B%0D%0A%09%09%09outline%3A%20none%3B%0D%0A%09%09%7D%0D%0A%09%09.addfox-link%3Ahover%2C%0D%0A%09%09.addfox-link%3Aactive%20%7B%0D%0A%09%09%20%20%09text-decoration%3A%20none%3B%0D%0A%09%09%7D%0D%0A%09%3C%2Fstyle%3E%20%3C%2Fhead%3E%20%09%3Cbody%3E%20%09%09%3Ca%20href%3D%22http%3A%2F%2Fads.adfox.ru%2F255877%2FgoLink%3Fhash%3D99d6a93131b6b67a%26sj%3Dcq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%253D%253D%26ad-session-id%3D9131701540283917742%26p2%3Dfpkh%26ybv%3D0.1018%26ylv%3D0.1018%26ytt%3D2069%26pr%3Ddrcndty%26p1%3Dbxdri%26p5%3Dflwsx%26rand%3Ddtderky%26rqs%3DLSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi%40https%3A%2F%2Fwww.mos.ru%2Fnews%2Fitem%2F38793073%2F%22%20target%3D%22_top%22%20class%3D%22addfox-link%22%3E%20%09%09%09%3Cdiv%20class%3D%22addfox-banner%22%3E%20%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__img-wrap%22%3E%20%09%09%09%09%09%3Cimg%20src%3D%22https%3A%2F%2Fbanners.adfox.ru%2F180409%2Fadfox%2F710528%2FSockarta02%20%281%29.jpg%22%20class%3D%22addfox-banner__img%22%20%2F%3E%20%09%09%09%09%3C%2Fdiv%3E%20%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__text-wrap%22%3E%20%09%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__text-wrap-inner%22%3E%20%09%09%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__main-text-wrap%22%3E%20%09%09%09%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__title%22%3E%3Cspan%20id%3D%22%22%3E%3C%2Fspan%3E%3C%2Fdiv%3E%20%09%09%09%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__text%22%3E%D0%9F%D0%BE%D1%81%D0%B5%D1%89%D0%B0%D0%B9%D1%82%D0%B5%20%D0%B0%D1%82%D1%82%D1%80%D0%B0%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D1%8B%20%C2%AB%D0%97%D0%B0%D1%80%D1%8F%D0%B4%D1%8C%D1%8F%C2%BB%20%D1%81%D0%BE%20%D1%81%D0%BA%D0%B8%D0%B4%D0%BA%D0%BE%D0%B9%3C%2Fdiv%3E%20%09%09%09%09%09%09%3C%2Fdiv%3E%20%09%09%09%09%09%09%3Cdiv%20class%3D%22addfox-banner__note%22%3E%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D1%8C%3C%2Fdiv%3E%20%09%09%09%09%09%3C%2Fdiv%3E%20%09%09%09%09%3C%2Fdiv%3E%20%09%09%09%3C%2Fdiv%3E%20%09%09%3C%2Fa%3E%20%09%3C%2Fbody%3E%20%09%3Cscript%3E%0D%0A%09%20%20%20%20document.body.style.cursor%20%3D%20%27pointer%27%3B%0D%0A%0D%0A%09%09var%20bannerId%3D2493579%3B%0D%0A%09%20%20%20%20var%20startDate%20%3D%20new%20Date%28%222017-08-21%22%29%3B%20%2F%2F%20%D0%93%D0%BE%D0%B4%20-%20%D0%BC%D0%B5%D1%81%D1%8F%D1%86%20-%20%D0%B4%D0%B5%D0%BD%D1%8C%0D%0A%09%20%20%20%20var%20endDate%20%3D%20%27%27%3B%20%2F%2Fnew%20Date%28%222017-07-28%22%29%3B%20%2F%2F%20%D0%BE%D0%BF%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%21%20%D0%B8%D0%BD%D0%B0%D1%87%D0%B5%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20null%20%D0%B8%D0%BB%D0%B8%20%22%22%0D%0A%09%20%20%20%20var%20dateFlagFormatted%20%3D%20startDate.getDate%28%29%3B%0D%0A%0D%0A%09%20%20%20%20if%28endDate%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20dateFlagFormatted%20%2B%3D%20%28getMonth%28startDate%29%20%21%3D%3D%20getMonth%28endDate%29%20%3F%20%27%20%27%20%2B%20getMonth%28startDate%29%20%3A%20%27%27%29%3B%0D%0A%09%20%20%20%20%20%20%20%20dateFlagFormatted%20%2B%3D%20%27%20%E2%80%94%20%27%20%2B%20endDate.getDate%28%29%20%2B%20%27%20%27%20%2B%20getMonth%28endDate%29%3B%0D%0A%09%20%20%20%20%7D%0D%0A%09%20%20%20%20else%20%7B%0D%0A%09%20%20%20%20%20%20%20%20var%20dateNow%20%3D%20new%20Date%28%29%3B%0D%0A%09%20%20%20%20%20%20%20%20var%20nextWeek%20%3D%20new%20Date%28dateNow.getFullYear%28%29%2C%20dateNow.getMonth%28%29%2C%20%28dateNow.getDate%28%29%20%2B%207%29%29%3B%0D%0A%09%20%20%20%20%20%20%20%20var%20nextDay%20%3D%20new%20Date%28dateNow.getFullYear%28%29%2C%20dateNow.getMonth%28%29%2C%20%28dateNow.getDate%28%29%20%2B%201%29%29%3B%0D%0A%09%20%20%20%20%20%20%20%20var%20prevDay%20%3D%20new%20Date%28dateNow.getFullYear%28%29%2C%20dateNow.getMonth%28%29%2C%20%28dateNow.getDate%28%29%20-%201%29%29%3B%0D%0A%09%09%09var%20storyDay%20%3D%20new%20Date%28dateNow.getFullYear%28%29%2C%20dateNow.getMonth%28%29%2C%20%28dateNow.getDate%28%29%20-%203%29%29%3B%0D%0A%09%20%20%20%20%20%20%20%20dateNow%20%3D%20new%20Date%28dateNow.getFullYear%28%29%2C%20dateNow.getMonth%28%29%2C%20dateNow.getDate%28%29%29%3B%0D%0A%0D%0A%09%20%20%20%20%20%20%20%20dateFlagFormatted%20%2B%3D%20%27%20%27%20%2B%20getMonth%28startDate%29%3B%0D%0A%0D%0A%09%20%20%20%20%20%20%20%20if%28format%28startDate%29%20%3D%3D%3D%20format%28dateNow%29%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20dateFlagFormatted%20%3D%20%27%D0%A1%D0%B5%D0%B3%D0%BE%D0%B4%D0%BD%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%7D%0D%0A%09%20%20%20%20%20%20%20%20if%28format%28startDate%29%20%3D%3D%3D%20format%28nextDay%29%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20dateFlagFormatted%20%3D%20%27%D0%97%D0%B0%D0%B2%D1%82%D1%80%D0%B0%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%7D%0D%0A%09%20%20%20%20%20%20%20%20if%28format%28startDate%29%20%3D%3D%3D%20format%28prevDay%29%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20dateFlagFormatted%20%3D%20%27%D0%92%D1%87%D0%B5%D1%80%D0%B0%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%7D%0D%0A%09%20%20%20%20%20%20%20%20if%28startDate.getTime%28%29%20%3C%20nextWeek.getTime%28%29%20%26%26%20%28startDate.getDay%28%29%20%3D%3D%3D%200%20%7C%7C%20startDate.getDay%28%29%20%3D%3D%3D%206%20%29%29%7B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20dateFlagFormatted%20%3D%20%27%D0%9D%D0%B0%20%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D1%85%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%7D%0D%0A%09%09%09if%28startDate.getTime%28%29%20%3C%20storyDay.getTime%28%29%29%7B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20dateFlagFormatted%20%3D%20%27%D0%9D%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D1%8C%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%7D%0D%0A%09%20%20%20%20%7D%0D%0A%0D%0A%09%20%20%20%20pasteDateFlag%28dateFlagFormatted%29%3B%0D%0A%0D%0A%09%20%20%20%20function%20format%28date%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20return%20date.getDate%28%29%2B%27%2F%27%2Bdate.getMonth%28%29%2B%27%2F%27%2Bdate.getYear%28%29%3B%0D%0A%09%20%20%20%20%7D%0D%0A%0D%0A%09%20%20%20%20function%20getMonth%28date%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20var%20monthNumber%20%3D%20date.getMonth%28%29%3B%0D%0A%09%20%20%20%20%20%20%20%20switch%20%28monthNumber%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%200%3A%20return%20%27%D1%8F%D0%BD%D0%B2%D0%B0%D1%80%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%201%3A%20return%20%27%D1%84%D0%B5%D0%B2%D1%80%D0%B0%D0%BB%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%202%3A%20return%20%27%D0%BC%D0%B0%D1%80%D1%82%D0%B0%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%203%3A%20return%20%27%D0%B0%D0%BF%D1%80%D0%B5%D0%BB%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%204%3A%20return%20%27%D0%BC%D0%B0%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%205%3A%20return%20%27%D0%B8%D1%8E%D0%BD%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%206%3A%20return%20%27%D0%B8%D1%8E%D0%BB%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%207%3A%20return%20%27%D0%B0%D0%B2%D0%B3%D1%83%D1%81%D1%82%D0%B0%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%208%3A%20return%20%27%D1%81%D0%B5%D0%BD%D1%82%D1%8F%D0%B1%D1%80%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%209%3A%20return%20%27%D0%BE%D0%BA%D1%82%D1%8F%D0%B1%D1%80%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%2010%3A%20return%20%27%D0%BD%D0%BE%D1%8F%D0%B1%D1%80%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20case%2011%3A%20return%20%27%D0%B4%D0%B5%D0%BA%D0%B0%D0%B1%D1%80%D1%8F%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20return%20%27%27%3B%0D%0A%09%20%20%20%20%20%20%20%20%7D%0D%0A%09%20%20%20%20%7D%0D%0A%0D%0A%09%20%20%20%20function%20pasteDateFlag%28dateFlag%29%20%7B%0D%0A%09%20%20%20%20%20%20%20%20var%20el%20%3D%20document.getElementById%28%27dateFlag%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28el%29%20el.innerHTML%20%3D%20dateFlag%3B%0D%0A%09%20%20%20%20%7D%0D%0A%09%3C%2Fscript%3E%20%09%3Cscript%20src%3D%22https%3A%2F%2Fwww.mos.ru%2Fotrasli-static%2Fouter%2FmosTizer.js%22%3E%3C%2Fscript%3E%20%3C%2Fhtml%3E').replace(/\\\`/gm, '`')
		},
		imageCreative: {
			value: ''
		},
		widthBanner: {
			value: '100%',
			type: 'size'
		},
		heightBanner: {
			value: '100%',
			type: 'size'
		},
		styleWrapper: {
			value: ''
		},
		functionCallback: {
			value: '',
			type: 'func'
		},
		altTextImage: {
			value: ''
		},
		target: {
			value: '_top'
		}
	};

	var Banner = function() {
	/* global.banners v1.0.1 */
	var undoList = [];

	Banner.prototype.setUndo = function(undo) {
		undoList.push(undo);
	};

	Banner.prototype.init = function() {
		var async = !!2942218895;
		var win = ( async ? parent : window );
		var doc = win.document;
		var rnd = 2942218895 || 1350318769;

		if (async) {
			setTimeout(function() {
				document.close();
			}, 100);
			self.adfoxRemoveBanner = function() {
				banner.remove();
				win.eval(''+
					'(function() {\n'+
					'	var _iframe = document.getElementById(\'AdFox_iframe_' + rnd + '\'),\n'+
					'		_parent = _iframe.parentNode;\n'+
					'		_parent.removeChild(_iframe);\n'+
					'		_parent.appendChild(_iframe);\n'+
					'})()'+
				'');
			};
			this.setUndo({
				func: function() {
					var wrapper = CreateParams.prototype.wrapper;
					wrapper.innerHTML = '';
					wrapper.style.cssText = '';
				}
			});
		} else {
			doc.write('<div id="AdFox_banner_' + rnd + '"></div>');
			this.setUndo({
				func: function() {
					CreateParams.prototype.wrapper.removeChild(this.wrapper);
				}
			});
		}

		CreateParams.prototype = {
			async: async,
			win: win,
			rnd: rnd,
			doc: doc,
			wrapper: doc.getElementById('AdFox_banner_' + rnd),
			bannerId: 2493579,
			validityErr: []
		};
	};

	this.remove = function() {
		for (var i = 0; i < undoList.length; i++) {
			undoList[i].func();
		}
		undoList = [];
	}
};
	var CreateParams = function(data) {
	/* global.createParams v1.0.1 */
	function validity(v, mask) {
		var 
			masks = {
				size: [
					/^\d+$/,
					/^\d+px$/,
					/^100%$/
				],
				bool: [
					/^(?:yes|no)$/,
					/^(?:true|false)$/,
					/^(?:1|0)$/
				]
			};

		if (typeof(mask) === 'string') {
			mask = masks[mask];
		} else {
			mask = mask || [];
		}

		return mask.some(function(m) {
			return v.match(m);
		});
	}

	var setParams = {
		manualy: function(v, mask, func) {
			if (validity(v, mask)) {
				if (func) {
					return func(v);
				} else {
					return v;
				}
			} else {
				CreateParams.prototype.validityErr.push('Указано не валидное значение размера: "' + v + '"');
			}
		},
		reference: function(v) {
			if (!v) {
				return false;
			} else if (v === 'http://ads.adfox.ru/255877/goLink?hash=99d6a93131b6b67a&sj=cq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%3D%3D&ad-session-id=9131701540283917742&p2=fpkh&ybv=0.1018&ylv=0.1018&ytt=2069&pr=drcndty&p1=bxdri&p5=flwsx&rand=dtderky&rqs=LSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi') {
				return {
					url: 'http://ads.adfox.ru/255877/goLink?hash=99d6a93131b6b67a&sj=cq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%3D%3D&ad-session-id=9131701540283917742&p2=fpkh&ybv=0.1018&ylv=0.1018&ytt=2069&pr=drcndty&p1=bxdri&p5=flwsx&rand=dtderky&rqs=LSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi',
					urlEnc: 'http%3A%2F%2Fads.adfox.ru%2F255877%2FgoLink%3Fhash%3D99d6a93131b6b67a%26sj%3Dcq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%253D%253D%26ad-session-id%3D9131701540283917742%26p2%3Dfpkh%26ybv%3D0.1018%26ylv%3D0.1018%26ytt%3D2069%26pr%3Ddrcndty%26p1%3Dbxdri%26p5%3Dflwsx%26rand%3Ddtderky%26rqs%3DLSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi'
				}
			} else {
				return {
					url: 'http://ads.adfox.ru/255877/goLink?hash=99d6a93131b6b67a&sj=cq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%3D%3D&ad-session-id=9131701540283917742&p2=fpkh&ybv=0.1018&ylv=0.1018&ytt=2069&pr=drcndty&p1=bxdri&p5=flwsx&rand=dtderky&rqs=LSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi@' + v,
					urlEnc: 'http%3A%2F%2Fads.adfox.ru%2F255877%2FgoLink%3Fhash%3D99d6a93131b6b67a%26sj%3Dcq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%253D%253D%26ad-session-id%3D9131701540283917742%26p2%3Dfpkh%26ybv%3D0.1018%26ylv%3D0.1018%26ytt%3D2069%26pr%3Ddrcndty%26p1%3Dbxdri%26p5%3Dflwsx%26rand%3Ddtderky%26rqs%3DLSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi@' + encodeURIComponent(v)
				}
			}
		},
		size: function(v) {
			if (validity(v, 'size')) {
				return {
					style: ( v.indexOf('%') != -1 ? v : parseInt(v)+'px' ),
					attribute: ( v.indexOf('%') != -1 ? v : parseInt(v) )
				};
			} else {
				CreateParams.prototype.validityErr.push('Указано не валидное значение размера: "' + v + '"');
			}
		},
		bool: function(v) {
			if (validity(v, 'bool')) {
				if (v.indexOf('yes') != -1 || v.indexOf('true') != -1 || v.indexOf('1') != -1) {
					return true;
				} else {
					return false;
				}
			} else {
				CreateParams.prototype.validityErr.push('Указано не валидное значение размера: "' + v + '"');
			}
		},
		func: function(v) {
			if (v && typeof(CreateParams.prototype.win[v]) !== 'undefined') {
				return CreateParams.prototype.win[v];
			} else {
				return function(){};
			}
		}
	};

	for (var i in data) {
		if (typeof(data[i].type) !== 'undefined') {
			this[i] = setParams[data[i].type](data[i].value);
		} else if (typeof(data[i].validity) !== 'undefined') {
			this[i] = setParams.manual(data[i].value, data[i].validity, data[i].func);
		} else {
			this[i] = data[i].value;
		}
	}
};
	var Tools = function() {
	/* global.tools v1.1.2 */
	this.getNewValuesFaces = function(fromX, fromY, toX, toY) {
		var
			p = parseInt,
			ratio = Math.min(
				fromX === '100%' || p(toX)/p(fromX),
				fromY === '100%' || p(toY)/p(fromY),
				1
			),
			res = [fromX, fromY].map(function (value) {
				return value === '100%' ? value : Math.ceil(p(value)*ratio) + 'px';
			});

		return {
			w: res[0],
			h: res[1]
		}

	};

	this.addEvent = function(elem, eventType, eventHandler) {
		if (typeof(eventType) === 'object') {
			eventType.map(setEvent);
		} else {
			setEvent(eventType);
		}

		function setEvent(v) {
			if(elem.addEventListener) {
				elem.addEventListener(v, eventHandler, false);
			} else if(elem.attachEvent)	{
				elem.attachEvent('on' + v, eventHandler);
			}
		}

	};

	this.removeEvent = function(elem, eventType, eventHandler) {
		if (typeof(eventType) === 'object') {
			eventType.map(delEvent);
		} else {
			delEvent(eventType);
		}

		function delEvent(v) {
			if(elem.removeEventListener) {
				elem.removeEventListener(v, eventHandler, false);
			} else if(elem.detachEvent)	{
				elem.detachEvent('on' + v, eventHandler);
			}
		}

	};

	this.checkSupportHTML5 = function() {
		return !!document.createElement('canvas').getContext && !(navigator.userAgent.indexOf('MSIE 9.0')+1) && !(navigator.userAgent.indexOf('Presto')+1);

	};

	this.cl = function(message) {
		var div = document.createElement('div');
		div.innerHTML = message;
		console.log(div.innerHTML);

	};

	this.preventAction = function(evnt) {
		var 
			e = evnt || _win.event;

		e.preventDefault();
	}
};
	var FrameUtils = function(p) {
	/* global.frameUtils v1.0.2 */
	var _win;
	var _doc;
	var _html = p.html5Creative;
	var _interval;

	function checkRemoveFrame() {
		var checkWin = false;
		try {
			checkWin = FrameUtils.prototype.getWindow('adfoxHtml5_iframe_' + p.rnd).win;
		} catch (e) {}

		if (checkWin == _win || checkWin === false) {
			return;
		}

		p.win.eval('(new Image()).src = \'http://ads.adfox.ru/255877/event?hash=81034aec34459dfd&pm=be&sj=cq8qHAothnKKzKUGMQOvqVyzDaDR6CxaOd6j8muPUfZp1xY9bf9IORe7KYj1n4x3zSy1ecOSALa8pNmTj0nx2IJ9Y5-H1A_UhysanCaSSA%3D%3D&p5=flwsx&p1=bxdri&pr=drcndty&ytt=2069&rand=eeixnmv&rqs=LSM0JQ8AAAAN3s5bAnkBVN7DdHP1ZUYi&lts=ezqpqnd&ylv=0.1018&p2=fpkh&ybv=0.1018&ad-session-id=9131701540283917742&htmlRnd=\' + Math.random();');
		FrameUtils.prototype.writeHTML();
	}

	FrameUtils.prototype.getWindow = function(id) {
		var element = p.doc.getElementById(id);

		return {
			element: element,
			win: element.contentWindow
		}
	};

	FrameUtils.prototype.writeHTML = function() {
		_win = FrameUtils.prototype.getWindow('adfoxHtml5_iframe_' + p.rnd).win;
		_doc = _win.document;
		var _this = this;

		if (_doc.readyState !== 'complete' && _doc.readyState !== 'interactive') {
			setTimeout(function() {
                _this.writeHTML();
			}, 50);
			return;
		}

		_doc.write(_html);
		setTimeout(function() {_doc.close()}, 10);
		clearInterval(_interval);
		_interval = setInterval(checkRemoveFrame, 150);
	};
};

	var banner = new Banner();
	var tools = new Tools();
	banner.init();
	var params = new CreateParams(data);
	if (params.validityErr.length) {
		params.validityErr.map(function(v, div) {
			tools.cl(v);
		});
		return;
	}
	params.supportHTML5 = tools.checkSupportHTML5() && params.html5Creative;
	if (params.supportHTML5) {
		var frameUtils = new FrameUtils(params);
	}
	banner.html = createHTML(params);
	if (!banner.html) {
		return;
	}
	runBanner(params);
	params.functionCallback(banner);

	function createHTML(p) {
		var html = false;

		if (p.supportHTML5) {
			html = '<iframe id="adfoxHtml5_iframe_' + p.rnd + '" style="width: 1px; min-width: 100%; height: ' + p.heightBanner.style + ';" marginwidth="0" marginheight="0" scrolling="no" frameborder="0"></iframe>';
		} else if (p.imageCreative) {
			html = '<img src="' + p.imageCreative + '" alt="' + p.altTextImage + '" style="width: ' + p.widthBanner.style + '; height: ' + p.heightBanner.style + '; vertical-align: middle; border: 0px;">';

			if (p.reference) {
				html = '<a href="' + p.reference.url + '" target="' + p.target + '">' + html + '</a>';
			}
		}

		return html;
	}

	function runBanner(p) {
		p.wrapper.style.cssText = p.styleWrapper + 'width: ' + p.widthBanner.style + '; height: ' + p.heightBanner.style + ';';
		p.wrapper.innerHTML = banner.html;

		if (p.supportHTML5) {
			frameUtils.writeHTML();
		}
	}
})();</script><script>if(window.onPrepareCodeLoad){window.onPrepareCodeLoad()}</script></head><body></body></html>